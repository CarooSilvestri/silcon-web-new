import{A as h,d as u,y as f}from"./hooks.module.DXJezJqm.js";import{l as v,k as m}from"./preact.module.B31BUu8B.js";import{g as d}from"./index.Brfk6Bdo.js";var y=0;function t(e,n,s,i,r,a){n||(n={});var l,o,c=n;if("ref"in c)for(o in c={},n)o=="ref"?l=n[o]:c[o]=n[o];var p={type:e,props:c,key:s,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--y,__i:-1,__u:0,__source:r,__self:a};if(typeof e=="function"&&(l=e.defaultProps))for(o in l)c[o]===void 0&&(c[o]=l[o]);return v.vnode&&v.vnode(p),p}function b({text:e,setFilter:n}){const s=h(null),i=h(null);return t("div",{ref:s,onMouseEnter:()=>{d.to(i.current,{height:"100%",duration:.1,fontWeight:"bolder",ease:"power4.out"})},onMouseLeave:()=>{d.to(i.current,{height:"0%",duration:.1,ease:"power1.in"})},class:"relative overflow-hidden border-1 content-center p-3 bg-neutral-300 text-center cursor-pointer",onClick:()=>n(e),children:[t("div",{ref:i,class:"absolute bottom-0 left-0 w-full bg-yellow-500 z-0",style:{height:"0%",transition:"height 0.3s"}}),t("p",{class:"text-lg font-bold relative z-10",children:e})]})}async function g(){return await(await fetch("/data/prod-silcon.json")).json()}async function _(){const e=await g();return Object.keys(e)}async function w(e){return(await g())[e]}async function x(){const e=await g();return Object.values(e).flat()}function j({setFilter:e}){const[n,s]=u([]);return f(()=>{async function i(){const r=await _();s(r)}i()},[]),t("div",{class:"grid my-5 gap-1 justify-between grid-cols-"+n?.length,children:n.map(i=>t(b,{text:i,setFilter:e}))})}function k({infoProd:e,setOpen:n}){const s=h(null);f(()=>{const r=s.current;if(r)r.classList.remove("invisible");else return;d.timeline().fromTo(r,{y:-1e3},{y:0,duration:1,ease:"expo.out"})},[]);const i=()=>{const r=s.current;if(!r)return;d.timeline({onComplete:()=>{n(!1)}}).to(r,{y:1e3,duration:.8,ease:"expo.in"})};return t("div",{ref:s,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 invisible",children:t("div",{class:" grid grid-cols-2 bg-white relative h-full",children:[t("div",{children:t("img",{src:"src/assets/"+e.name+" - "+e.id+".jpg",class:"h-full"})}),t("div",{class:"p-6",children:[t("button",{class:"absolute top-2 right-2 text-gray-500 hover:text-black",onClick:()=>i(),children:"✕"}),t("h2",{class:"text-xl font-bold mb-4",children:e.name}),t("p",{class:"text-gray-700",children:e.description})]})]})})}function C({prod:e}){const[n,s]=u(!1);return f(()=>{n?document.body.classList.add("overflow-y-hidden"):document.body.classList.remove("overflow-y-hidden")},[n]),t(m,{children:[t("div",{class:"border-1",children:[t("img",{src:"src/assets/"+e.name+" - "+e.id+".jpg"}),t("div",{class:"p-5",children:[t("p",{children:t("strong",{children:e.name})}),t("p",{onClick:()=>s(!n),class:"text-sm text-decoration-line: underline",children:"Ver más"})]})]}),n&&t(k,{infoProd:e,setOpen:s})]})}function L({filter:e}){const[n,s]=u([]);return f(()=>{(async()=>{let r;e?r=await w(e):r=await x(),s(r)})()},[e]),console.log(n),t("main",{class:"justify-center",children:t("div",{class:"grid grid-cols-3 sm:grid-cols-2 md:grid-cols-3 gap-5",children:n.map((i,r)=>t(C,{prod:i},i+r))})})}function z(){const[e,n]=u("");return t("div",{children:[t(j,{setFilter:n}),t(L,{filter:e})]})}export{z as default};
